(this["webpackJsonpboston-gene-crud"]=this["webpackJsonpboston-gene-crud"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var l=a(0),c=a.n(l),n=a(8),r=a.n(n),o=(a(14),a(15),a(6)),i=a(1),s=a(5),m=a(2);function d(){var e=localStorage.getItem("nextId");return null!==e?(e=+e+1,localStorage.setItem("nextId",e)):(e=0,localStorage.setItem("nextId",e)),e}var u=function(e){var t=e.addAdvert,a={title:"",description:"",phone:"",cityId:"0"},n=Object(l.useState)(a),r=Object(i.a)(n,2),o=r[0],u=r[1],b=Object(l.useState)(!1),v=Object(i.a)(b,2),f=v[0],E=v[1],h=Object(l.useState)(!1),p=Object(i.a)(h,2),O=p[0],j=p[1],N=Object(l.useState)(!0),g=Object(i.a)(N,2),S=g[0],x=g[1],I=Object(l.useState)(!1),y=Object(i.a)(I,2),k=y[0],w=y[1],A=Object(l.useState)(""),C=Object(i.a)(A,2),q=C[0],F=C[1],J=Object(l.useState)(!0),M=Object(i.a)(J,2),$=M[0],B=M[1],D=Object(l.useState)(!0),z=Object(i.a)(D,2),G=z[0],H=z[1],K=Object(l.useState)(!0),L=Object(i.a)(K,2),P=L[0],Q=L[1];function R(e,t){u((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(s.a)({},e,t))}))}return Object(l.useEffect)((function(){E(!!(O&S&k))})),c.a.createElement("div",{className:"creation-form-block col-lg-6 col-md-6 col-sm-12"},c.a.createElement("h2",{className:"title mb-4"},"\u041f\u043e\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435"),c.a.createElement("form",null,c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-4 field-label"},c.a.createElement("label",{className:"h5 label required",htmlFor:"title-field"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a")),c.a.createElement("div",{className:"col-8 field"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f",id:"title-field",required:!0,value:o.title,onChange:function(e){var t=e.target.value;t.length>140||0===t.length?(j(!1),B(!1)):(j(!0),B(!0)),R("title",t)}}),$?"":c.a.createElement("div",{className:"invalid-feedback"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u0438\u043d\u043e\u0439 \u043e\u0442 1 \u0434\u043e 140 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-4 field-label"},c.a.createElement("label",{className:"h5 label",htmlFor:"description-field"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435")),c.a.createElement("div",{className:"col-8 field"},c.a.createElement("textarea",{className:"form-control",id:"description-field",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f",rows:"3",value:o.description,onChange:function(e){var t=e.target.value;t.length>300?(x(!1),H(!1)):(x(!0),H(!0)),R("description",t)}}),G?"":c.a.createElement("div",{className:"invalid-feedback"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c \u0434\u043b\u0438\u043d\u0443 \u0432 300 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-4 field-label"},c.a.createElement("label",{className:"h5 label required",htmlFor:"phone-field"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d")),c.a.createElement("div",{className:"col-8 field"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"+7 (***) ***-**-**",id:"phone-field",required:!0,value:o.phone,onChange:function(e){var t,a=e.target.value;/^([+\s()-]|\d)*$/.test(a)?(a.length<q.length?u(Object(m.a)(Object(m.a)({},o),{},{phone:a})):u(Object(m.a)(Object(m.a)({},o),{},{phone:(t=a,/^([+\s()-]|\d)*$/.test(t)?t.length<4?"+7 ("+t:7===t.length?t+") ":12===t.length||15===t.length?t+"-":t:t.slice(0,-1))})),F(a),18===a.length?(w(!0),Q(!0)):(w(!1),Q(!1))):u(Object(m.a)(Object(m.a)({},o),{},{phone:q}))}}),P?"":c.a.createElement("div",{className:"invalid-feedback"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0440\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430."))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-4 field-label"},c.a.createElement("label",{className:"h5 label",htmlFor:"select-field"},"\u0413\u043e\u0440\u043e\u0434")),c.a.createElement("div",{className:"col-8 field"},c.a.createElement("select",{className:"custom-select",id:"select-field",value:o.cityId,onChange:function(e){return R("cityId",e.target.value)}},c.a.createElement("option",{value:"0"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),c.a.createElement("option",{value:"1"},"\u041c\u043e\u0441\u043a\u0432\u0430"),c.a.createElement("option",{value:"2"},"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"),c.a.createElement("option",{value:"3"},"\u041a\u0430\u0437\u0430\u043d\u044c"),c.a.createElement("option",{value:"3"},"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434 ")))),c.a.createElement("button",{className:"btn btn-light w-100",type:"submit",disabled:!f,onClick:function(e){e.preventDefault(),t(Object(m.a)({id:d()},o)),u(a)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))};var b=function(e){var t=e.advertObj,a=e.removeAdvert,l=t.id,n=t.title,r=t.description,o=t.cityId,i=t.phone,s=function(e){return new Map([["0","\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"],["1","\u041c\u043e\u0441\u043a\u0432\u0430"],["2","\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"],["3","\u041a\u0430\u0437\u0430\u043d\u044c"],["4","\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434 "]]).get(e)}(o);return c.a.createElement("div",{className:"posts-container card mb-3"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},n),c.a.createElement("p",{className:"card-text"},r),c.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},s),c.a.createElement("h6",{className:"card-text mb-2 text-muted"},i),c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(l)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))};var v=function(e){var t=e.adverts,a=e.removeAdvert,n=Object(l.useState)([]),r=Object(i.a)(n,2),o=r[0],s=r[1];return Object(l.useEffect)((function(){s(t)}),[t]),c.a.createElement("div",{className:"post-block col-lg-6 col-md-6 col-sm-12 mt-5 pt-2"},0!==o.length?o.map((function(e){return c.a.createElement(b,{advertObj:e,removeAdvert:a,key:e.id})})):c.a.createElement("h3",null,"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 :("))};function f(e){return localStorage.setItem("advertisments",JSON.stringify(e))}a(16);var E=function(){var e=Object(l.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){n(function(){var e=JSON.parse(localStorage.getItem("advertisments"));return e||[]}())}),[]),c.a.createElement("div",{className:"containter col-lg-8 col-md-10 col-sm-12 row d-flex justify-content-center mx-auto"},c.a.createElement(u,{addAdvert:function(e){n([e].concat(Object(o.a)(a))),f([e].concat(Object(o.a)(a)))}}),c.a.createElement(v,{adverts:a,removeAdvert:function(e){var t=a.findIndex((function(t){return t.id===e})),l=a.slice(0,t).concat(a.splice(t+1));n(l),f(l)}}))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.735a9e0e.chunk.js.map